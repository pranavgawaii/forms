
> placepro-mit-adt@0.1.0 test:coverage
> vitest run --coverage


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/8teen/Documents/mitadt forms[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [31mâ¯[39m src/__tests__/api.test.tsx [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 5[2mms[22m[39m
     [32mâœ“[39m getFormsOverview fetches forms[32m 1[2mms[22m[39m
[31m     [31mÃ—[31m submitPublicResponse inserts and returns data[39m[32m 2[2mms[22m[39m
     [32mâœ“[39m deleteForm calls deletion[32m 1[2mms[22m[39m
[90mstderr[2m | src/__tests__/responses.test.tsx[2m > [22m[2mResponsesPage[2m > [22m[2mrenders response table with data
[22m[39mâš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[90mstderr[2m | src/__tests__/forms-list.test.tsx[2m > [22m[2mFormsListPage[2m > [22m[2mrenders forms dashboard with forms
[22m[39mâš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[90mstderr[2m | src/__tests__/performance.test.tsx[2m > [22m[2mPerformance & Scale[2m > [22m[2mrenders 100 responses efficiently
[22m[39mâš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[90mstderr[2m | src/__tests__/auth.test.tsx[2m > [22m[2mAuthPage[2m > [22m[2mrenders login form correctly
[22m[39mâš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[90mstderr[2m | src/__tests__/auth.test.tsx[2m > [22m[2mAuthPage[2m > [22m[2mrenders login form correctly
[22m[39mWarning: An update to AuthProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AuthProvider (/Users/8teen/Documents/mitadt forms/src/context/AuthContext.tsx:7:25)
    at QueryClientProvider (file:///Users/8teen/Documents/mitadt%20forms/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)

[90mstderr[2m | src/__tests__/edge-cases.test.tsx[2m > [22m[2mEdge Cases[2m > [22m[2mhandles submission with very long text responses
[22m[39mâš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[90mstderr[2m | src/__tests__/form-builder.test.tsx[2m > [22m[2mFormBuilderPage[2m > [22m[2mrenders blank form builder
[22m[39mâš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32mâœ“[39m src/__tests__/forms-list.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 121[2mms[22m[39m
[90mstderr[2m | src/__tests__/edge-cases.test.tsx[2m > [22m[2mEdge Cases[2m > [22m[2mshows error if API fails during submission
[22m[39mError: Network error
    at [90m/Users/8teen/Documents/mitadt forms/[39msrc/__tests__/edge-cases.test.tsx:43:65
    at [90mfile:///Users/8teen/Documents/mitadt%20forms/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///Users/8teen/Documents/mitadt%20forms/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///Users/8teen/Documents/mitadt%20forms/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/8teen/Documents/mitadt%20forms/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1209:10[90m)[39m
    at [90mfile:///Users/8teen/Documents/mitadt%20forms/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:37
    at Traces.$ [90m(file:///Users/8teen/Documents/mitadt%20forms/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///Users/8teen/Documents/mitadt%20forms/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///Users/8teen/Documents/mitadt%20forms/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1653:12[90m)[39m

 [32mâœ“[39m src/__tests__/edge-cases.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 132[2mms[22m[39m
 [32mâœ“[39m src/__tests__/performance.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 230[2mms[22m[39m
[90mstderr[2m | src/__tests__/auth.test.tsx[2m > [22m[2mAuthPage[2m > [22m[2mtoggles password visibility
[22m[39mWarning: An update to AuthProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at AuthProvider (/Users/8teen/Documents/mitadt forms/src/context/AuthContext.tsx:7:25)
    at QueryClientProvider (file:///Users/8teen/Documents/mitadt%20forms/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js:20:3)

 [32mâœ“[39m src/__tests__/responses.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 326[2mms[22m[39m
 [32mâœ“[39m src/__tests__/auth.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 311[2mms[22m[39m
 [32mâœ“[39m src/__tests__/form-builder.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 421[2mms[22m[39m
[90mstderr[2m | src/__tests__/public-form.test.tsx[2m > [22m[2mPublicFormPage[2m > [22m[2mrenders public form with fields
[22m[39mâš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32mâœ“[39m src/__tests__/rls.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m src/__tests__/public-form.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 57[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 1 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/__tests__/api.test.tsx[2m > [22mformApi[2m > [22msubmitPublicResponse inserts and returns data
[31m[1mAssertionError[22m: expected undefined to be defined[39m
[36m [2mâ¯[22m src/__tests__/api.test.tsx:[2m36:24[22m[39m
    [90m 34| [39m        })[33m;[39m
    [90m 35| [39m
    [90m 36| [39m        [34mexpect[39m(result)[33m.[39m[34mtoBeDefined[39m()[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m 37| [39m        [35mif[39m (result) {
    [90m 38| [39m            [34mexpect[39m(result[33m.[39mid)[33m.[39m[34mtoBe[39m([32m'new-id'[39m)[33m;[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m8 passed[39m[22m[90m (9)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m29 passed[39m[22m[90m (30)[39m
[2m   Start at [22m 00:05:08
[2m   Duration [22m 2.09s[2m (transform 971ms, setup 1.49s, import 1.39s, tests 1.61s, environment 4.99s)[22m

